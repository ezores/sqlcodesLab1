--SCRIPT DE CRÃ‰ATION DES TABLES

CREATE TABLE Employe (
	matricule CHAR(7) NOT NULL,
	motDePasse VARCHAR2(50) NOT NULL,
	courriel VARCHAR2(320),
	prenom VARCHAR2(50),
	nom VARCHAR2(50),
	dateNaissance DATE,
	numeroTelephone NVARCHAR2(11),
	adresseId INTEGER,
	PRIMARY KEY(matricule)
);

CREATE TABLE Client (
	clientId INTEGER NOT NULL,
	motDePasse VARCHAR2(50) NOT NULL,
	courriel VARCHAR2(320),
	prenom VARCHAR2(50),
	nom VARCHAR2(50),
	dateNaissance DATE,
	numeroTelephone NVARCHAR2(11),
	adresseId INTEGER,
	carteCreditId CHAR(16),
	codeAbonnement CHAR(1),
	PRIMARY KEY(matricule)
);

CREATE TABLE UserAdresse (
	nomUsager VARCHAR2(255) NOT NULL,
	adresseId INTEGER NOT NULL,
	PRIMARY KEY(nomUsager, adresseId)
);

CREATE TABLE Adresse (
	adresseId INTEGER NOT NULL AUTO_INCREMENT,
	rue VARCHAR2(255),
	ville VARCHAR2(255),
	province VARCHAR2(255),
	paysId INTEGER,
	PRIMARY KEY(adresseId)
);


CREATE TABLE Personne (
	personneId INTEGER NOT NULL,
	nom VARCHAR2(100),
	dateNaissance DATE,
	lieuNaissance VARCHAR2(50),
	photo VARCHAR2(2048),
	biographie VARCHAR2(2083),
	PRIMARY KEY(personneId)
);

CREATE TABLE Emprunt (
	copieId INTEGER NOT NULL,
	nomUsager VARCHAR2(50) NOT NULL,
	dateDebutEmprunt DATE NOT NULL,
	PRIMARY KEY(copieId, nomUsager)
);

CREATE TABLE Pays (
	paysId INTEGER NOT NULL AUTO_INCREMENT,
	nom VARCHAR2(255),
	PRIMARY KEY(paysId)
);

CREATE TABLE CopieFilm (
	copieId INTEGER NOT NULL AUTO_INCREMENT,
	filmId VARCHAR2(255) NOT NULL,
	statut VARCHAR2(50),
	PRIMARY KEY(copieId)
);

CREATE TABLE PaysFilm (
	paysId INTEGER NOT NULL,
	filmId INTEGER NOT NULL,
	PRIMARY KEY(paysId, filmId)
);

CREATE TABLE ActeurFilm (
	acteurId INTEGER NOT NULL,
	filmId INTEGER NOT NULL,
	personnage VARCHAR2(100),
	PRIMARY KEY(acteurId, filmId)
);

CREATE TABLE Scenariste (
	scenaristeId INTEGER NOT NULL,
	nom VARCHAR2(50),
	PRIMARY KEY(scenaristeId)
);

CREATE TABLE ScenaristeFilm (
	scenaristeId INTEGER NOT NULL,
	filmId INTEGER NOT NULL,
	PRIMARY KEY(scenaristeId, filmId)
);

CREATE TABLE CarteCredit (
	carteCreditId INTEGER NOT NULL AUTO_INCREMENT,
	numero CHAR(16) NOT NULL,
	dateExpiration DATE NOT NULL,
	CVV CHAR(3) NOT NULL,
	PRIMARY KEY(carteCreditId)
);

CREATE TABLE Abonnement (
	code CHAR(1) NOT NULL,
	forfait VARCHAR2(14),
	coutMensuel BINARY_FLOAT,
	empruntMax INTEGER,
	dureeMax INTEGER,
	codeAbonnement CHAR(10)
	PRIMARY KEY(code)
);

CREATE TABLE Film (
	filmId INTEGER NOT NULL,
	titre VARCHAR2(255),
	anneeSortie INTEGER,
	langueOriginale VARCHAR2(50),
	dureeMinute INTEGER,
	resume VARCHAR2(2083),
	afficheUrl VARCHAR2(2083),
	bandeAnnonceUrl VARCHAR2(2083),
	realisateurId INTEGER,
	PRIMARY KEY(filmId)
);

CREATE TABLE GenreFilm (
	genre INTEGER NOT NULL,
	filmId INTEGER NOT NULL,
	PRIMARY KEY(genreId, filmId)
);

--pas certain comment faire statutFilm

